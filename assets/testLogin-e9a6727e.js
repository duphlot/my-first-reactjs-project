import{r as i,u as w,j as a,a as t,F as E,R as S}from"./index-a5dcac8f.js";import{i as C,g as O,s as k,a as B,r as F,b as D}from"./index.esm2017-9a477d71.js";/* empty css                         */const x={apiKey:"AIzaSyDpI-LHs5YlweiY5CYmccS6D8na5xsb21o",authDomain:"test-1aaab.firebaseapp.com",databaseURL:"https://test-1aaab-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"test-1aaab",storageBucket:"test-1aaab.firebasestorage.app",messagingSenderId:"330234003180",appId:"1:330234003180:web:1b4499786a064a45b82fc9",measurementId:"G-QMSF9BVNPL"},m=C(x),j=O(m),z=()=>{const[d,v]=i.useState(""),[l,b]=i.useState(""),[r,g]=i.useState(!0);i.useEffect(()=>{const e=document.getElementById("container"),s=document.getElementById("register"),n=document.getElementById("login");return s&&n&&e&&(s.addEventListener("click",()=>{e.classList.add("active")}),n.addEventListener("click",()=>{e.classList.remove("active")})),()=>{s&&n&&(s.removeEventListener("click",()=>{e==null||e.classList.add("active")}),n.removeEventListener("click",()=>{e==null||e.classList.remove("active")}))}},[]);const f=w(),y=async e=>{e.preventDefault();try{const s=await k(j,d,l);console.log("User Logged In:",s.user),f("/admin")}catch(s){console.error(s.message),alert(`Login Error: ${s.message}`)}};let[h,L]=i.useState("");const[o,p]=i.useState(null);return a("div",{className:"container",id:"container",children:[t("div",{className:`form-container ${r?"sign-in":"sign-up"}`,children:a("form",{onSubmit:r?y:async e=>{e.preventDefault();const s=B(m),n=F(s,"order"),c=await D(n);if(c.exists()){const N=Object.values(c.val()).filter(I=>Object.values(I).some(u=>typeof u=="string"&&h.toLowerCase().includes(u.toLowerCase())));p(N)}else alert("No orders found"),p([])},children:[t("h1",{style:{color:"black"},children:r?"Đăng nhập":"Find your Order"}),!r&&t("input",{type:"text",placeholder:"Code Order",value:h,onChange:e=>L(e.target.value)}),r&&a(E,{children:[t("input",{type:"email",placeholder:"Email",value:d,onChange:e=>v(e.target.value)}),t("input",{type:"password",placeholder:"Password",value:l,onChange:e=>b(e.target.value)})]}),r&&t("a",{href:"#",children:"Forget your password?"}),t("button",{type:"submit",children:r?"Sign In":"Find Order"}),t("div",{className:"order-results",children:!r&&o&&a("div",{className:"order-results-content",children:[t("h1",{children:o.length>0?"":"No Orders Found"}),o.length>0&&t("div",{className:"order-list",children:o.map((e,s)=>a("div",{className:"order-item",children:[a("p",{children:[t("strong",{children:"ig:"})," ",e.igname]}),a("p",{children:[t("strong",{children:"phone:"})," ",e.number]}),a("p",{children:[t("strong",{children:"address:"})," ",e.address]}),a("p",{children:[t("strong",{children:"price:"})," ",e.price]}),a("p",{children:[t("strong",{children:"products:"})," ",t("br",{}),e.products.map((n,c)=>a(S.Fragment,{children:[a("span",{className:"product-item",children:[n.name," - ",n.quantity]}),t("br",{})]},c))]})]},s))})]})})]})}),t("div",{className:"toggle-container",children:a("div",{className:"toggle",children:[a("div",{className:"toggle-panel toggle-left",children:[t("h1",{children:"Welcome Back!"}),t("p",{children:"To keep connected with us please login with your personal info"}),t("button",{className:"hidden",id:"login",onClick:()=>g(!0),children:"Sign In"})]}),a("div",{className:"toggle-panel toggle-right",children:[t("h1",{children:"Chào bạn"}),t("p",{children:"Bạn muốn tra thông tin đơn hàng của Bạn hả??"}),t("button",{className:"hidden",id:"register",onClick:()=>g(!1),children:"FIND ORDER"})]})]})})]})};export{z as default};
